<div id="player"></div>

<div id="controlBar" *ngIf="playSongService.connected" (click)="startAnimation()">
    <div id="roomInfoWrapper">
        <img [src]="accountService.sanitizeBase64(room.picUrl)" id="roomImage"
             alt="roomPic">
        <h3 id="roomName">{{ room.name }}</h3>
        <p id="roomInfo">
            Members: {{ room.memberList.length }}
        </p>
    </div>

    <p id="currentSongName">
        <ion-icon name="musical-notes"></ion-icon>
        {{ playSongService.currentSong.title }}
    </p>

    <div id="songProgressBar">
        <div #songProgress id="songProgress" style="transition-duration: {{ playSongService.remainingSongDuration }}s; width: {{ playSongService.songProgress }}%"></div>
    </div>

    <div id="skipSong">
        <button *ngIf="!skip; else unskip" (click)="skipSong()">Skip</button>
        <ng-template #unskip>
            <button (click)="skipSong()">Unskip</button>
        </ng-template>
        <div id="skipVoteAmount" *ngIf="skips !== null && skips.currentAmount > 0">{{skips.currentAmount}}/{{skips.amountNeeded}}</div>
    </div>

    <div id="volumeRangeBox">
        <input type="range" orient="vertical" #volumeRange id="volumeRange" name="volumeRange" min="0" max="100" value="{{playSongService.volumePercentage}}"
        (input)="adjustVolume(volumeRange.value)">

        <br>

        <ion-icon class="volumeIcon" name="volume-mute-outline" *ngIf="playSongService.volumeStage == 'x'" (click)="mutePlayer()"></ion-icon>
        <ion-icon class="volumeIcon" name="volume-low-outline" *ngIf="playSongService.volumeStage == 'l'" (click)="mutePlayer()"></ion-icon>
        <ion-icon class="volumeIcon" name="volume-medium-outline" *ngIf="playSongService.volumeStage == 'm'" (click)="mutePlayer()"></ion-icon>
        <ion-icon class="volumeIcon" name="volume-high-outline" *ngIf="playSongService.volumeStage == 'h'" (click)="mutePlayer()"></ion-icon>
    </div>
</div>
